# Tasks: Menu Stats MVP

## M1: 基础架构

- [x] task001 将 App 改造为状态栏 App（移除主窗口，添加 NSStatusItem）
  - 验证：运行后状态栏显示图标，无主窗口弹出
  
- [x] task002 实现 Popover 容器与 Tab 切换（概览/清理释放）
  - 验证：点击状态栏图标弹出 Popover，可切换 Tab

- [x] task003 实现状态栏文本动态显示框架
  - 验证：状态栏显示动态系统状态文本

## M2: 系统数据采集

- [x] task004 实现 CPU 总使用率采集（Mach API）
  - 验证：CPU 使用率实时更新

- [x] task005 实现单核 CPU 使用率采集
  - 验证：各核心使用率显示

- [x] task006 实现 GPU 利用率采集（IOKit）
  - 验证：GPU 使用率显示（不支持时显示 N/A）

- [x] task007 实现内存统计采集
  - 验证：内存使用量/总量/百分比显示

- [x] task008 实现磁盘/网络/风扇数据采集
  - 验证：各项数据显示

## M3: 概览 Tab

- [x] task009 实现三个圆环饼图（CPU/GPU/MEM）
  - 验证：概览 Tab 显示三个圆环，数值实时更新

- [x] task010 实现系统状态区（温度/风扇/磁盘/网络）
  - 验证：显示各项系统状态文本

- [x] task011 实现核心使用率可滚动列表
  - 验证：显示各核心进度条，颜色随负载变化

## M4: 清理释放 Tab

- [x] task012 实现用户 App 列表获取与展示
  - 验证：显示运行中的用户 App 列表

- [x] task013 实现内存摘要区与列表项内存显示
  - 验证：显示内存使用概览和各 App 内存占用

- [x] task014 实现关闭 App 功能（滑出按钮 + 确认）
  - 验证：悬浮显示关闭按钮，点击可关闭 App

## M5: 设置页面

- [x] task015 实现状态栏显示项设置
  - 验证：可勾选/取消显示项，至少保留一项

- [x] task016 实现其他设置（刷新频率/单位）
  - 验证：设置可保存并生效

## M6: Bug 修复

- [ ] task017 修复 SMC 温度/风扇在 Apple Silicon 上不显示的问题 (issue001)
  - 修正 SMCParamStruct 结构体布局（匹配 smctemp.h）
  - 实现两步读取流程 (GetKeyInfo → ReadKey)
  - 扩展 Apple Silicon 温度键列表
  - 验证：在 M2 Pro / M4 上显示 CPU 温度
